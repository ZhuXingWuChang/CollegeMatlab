%
%
data=[7	26	6	60
1	29	15	52
11	56	8	20
11	31	8	47
7	52	6	33
11	55	9	22
3	71	17	6
1	31	22	44
2	54	18	22
21	47	4	26
1	40	23	34
11	66	9	12
10	68	8	12];

%
%特征向量
rp=[0.4760   -0.5090    0.6750
    0.5640    0.4140   -0.3140
   -0.3940    0.6050    0.6360
   -0.5480   -0.4510   -0.1940];

%系数
p=[4.56,0.130,9.88,95.42];

syms f1 f2 f3;

%y ̂=95.423+9.884F_1+0.125F_2+4.56F_3
y=p(end)+p(3)*f1+p(2)*f2+p(1)*f3;

%F_1=0.476x_1^*+0.5639x_2^*-0.3941x_3^*-0.5479x_4^*
%F_2=-0.509x_1^*+0.4139x_2^*+0.605x_3^*-0.4512x_4^*
%F_3=0.6755x_1^*-0.3144x_2^*+0.6377x_3^*-0.1954x_4^*
syms x1_ x2_ x3_ x4_
y=subs(y,f1,[x1_ x2_ x3_ x4_]*rp(:,1));
y=subs(y,f2,[x1_ x2_ x3_ x4_]*rp(:,2));
y=subs(y,f3,[x1_ x2_ x3_ x4_]*rp(:,3));
y=collect(y);

%x1_=(x1-mean(x))/std(x);
u=mean(data);s=std(data);
syms x1 x2 x3 x4
y=subs(y,x1_,collect((x1-u(1))/s(1)));
y=subs(y,x2_,collect((x2-u(2))/s(2)));
y=subs(y,x3_,collect((x3-u(3))/s(3)));
y=subs(y,x4_,collect((x4-u(4))/s(4)));
expr=vpa(y,4);
disp(expr);
% y=collect(y);
% ret=coeffs(y);
% p=eval(char(ret));
% t=p(5);
% p(3:5)=p(2:4);
% p(2)=t;
% disp(p);